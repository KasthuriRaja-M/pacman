from __future__ import annotations

import pygame

# Window and rendering
WINDOW_SCALE = 2
TILE_SIZE = 16
GRID_COLS = 28
GRID_ROWS = 31
BASE_WIDTH = GRID_COLS * TILE_SIZE
BASE_HEIGHT = GRID_ROWS * TILE_SIZE + 32  # extra HUD row
TARGET_FPS = 60

# Gameplay
PACMAN_SPEED = 80.0  # pixels per second at 1x scale
GHOST_SPEED = 75.0
FRIGHTENED_SPEED = 55.0
TUNNEL_SPEED = 60.0
POWER_DURATION = 6.0  # seconds
FRIGHTENED_FLASH_START = 4.5
SCATTER_CHASE_TIMINGS = [
	(7.0, "SCATTER"),
	(20.0, "CHASE"),
	(7.0, "SCATTER"),
	(20.0, "CHASE"),
	(5.0, "SCATTER"),
	(999.0, "CHASE"),
]

# Fruit
FRUIT_SPAWN_TILES = [(13, 17)]  # where fruit can appear
FRUIT_LIFETIME = 9.0
FRUIT_SCORE = 100
FRUIT_SPAWN_THRESHOLDS = [240, 120]  # pellets remaining when fruit appears

# Colors
DARK_BG = (5, 5, 25)
WALL_BLUE = (33, 66, 255)
WALL_GLOW = (120, 150, 255)
PELLET_COLOR = (255, 220, 180)
POWER_COLOR = (255, 140, 140)
HUD_TEXT = (240, 240, 255)
HUD_DIM = (160, 160, 200)
PACMAN_COLOR = (255, 232, 0)
GHOST_RED = (255, 64, 64)
GHOST_PINK = (255, 160, 200)
GHOST_CYAN = (120, 220, 255)
GHOST_ORANGE = (255, 180, 80)
FRIGHTENED_BLUE = (40, 40, 255)
FRIGHTENED_WHITE = (230, 230, 230)
FRUIT_COLOR = (255, 80, 140)

# Input
KEY_PAUSE = pygame.K_p
KEY_RESTART = pygame.K_r
KEY_MUTE = pygame.K_m
KEY_FULLSCREEN = pygame.K_F11
KEY_TOGGLE_FPS = pygame.K_F3

# Utility
EPSILON = 1e-4

# Derived sizes
HUD_HEIGHT = BASE_HEIGHT - GRID_ROWS * TILE_SIZE

# Layers (for draw ordering)
LAYER_BG = 0
LAYER_WALLS = 10
LAYER_PELLETS = 20
LAYER_ACTORS = 30
LAYER_UI = 100
